"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4286],{4286:(O,p,v)=>{v.r(p),v.d(p,{OverviewPageModule:()=>Z});var _=v(6895),w=v(433),n=v(7002),m=v(2598),g=v(5861),e=v(8256),h=v(2936);let f=(()=>{class a{constructor(i,t,o){this.toastController=i,this.storageService=t,this.modalCtrl=o,this.moviesArray=[],this.reviewDisplayed="Movie Name",this.reviewObject={name:"",description:"",category:"",review:"",rating:"",isFavourite:!1}}showToast(){var i=this;return(0,g.Z)(function*(){yield(yield i.toastController.create({message:"Movie Name can not be blank",duration:5e3,position:"bottom"})).present()})()}cancel(){return this.modalCtrl.dismiss(null,"cancel")}confirm(){return""===this.reviewObject.name.trim()?this.showToast():this.modalCtrl.dismiss(this.reviewObject,"confirm")}ngOnInit(){var i=this;return(0,g.Z)(function*(){i.loadData(),console.log(i.idPass)})()}loadData(){var i=this;return(0,g.Z)(function*(){var t,o,r,s,c,u;const l=yield i.storageService.getReview(i.idPass);i.reviewObject={name:null!==(t=null==l?void 0:l.name)&&void 0!==t?t:"",description:null!==(o=null==l?void 0:l.description)&&void 0!==o?o:"",category:null!==(r=null==l?void 0:l.category)&&void 0!==r?r:"",review:null!==(s=null==l?void 0:l.review)&&void 0!==s?s:"",rating:null!==(c=null==l?void 0:l.rating)&&void 0!==c?c:0,isFavourite:null!==(u=null==l?void 0:l.isFavourite)&&void 0!==u&&u}})()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(n.yF),e.Y36(h.V),e.Y36(n.IN))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-review-modal"]],inputs:{review:"review",index:"index",idPass:"idPass"},decls:29,vars:7,consts:[["slot","start"],["color","medium",3,"click"],["slot","end"],[3,"strong","click"],[1,"ion-padding"],["labelPlacement","stacked","label","Enter Movie Name:","placeholder","Godzilla",3,"ngModel","ngModelChange"],["position","stacked"],["placeholder","Action movie starring John Smith","rows","2",3,"ngModel","ngModelChange"],["labelPlacement","stacked","label","Enter Movie Category:","placeholder","Horror",3,"ngModel","ngModelChange"],["placeholder","Highly reccomend but terrible plot","rows","5",3,"ngModel","ngModelChange"],["labelPlacement","stacked","label","Rating out of 10:","placeholder","8.5",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"]],template:function(i,t){1&i&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.NdJ("click",function(){return t.cancel()}),e._uU(4,"Cancel"),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6,"Add"),e.qZA(),e.TgZ(7,"ion-buttons",2)(8,"ion-button",3),e.NdJ("click",function(){return t.confirm()}),e._uU(9,"Confirm"),e.qZA()()()(),e.TgZ(10,"ion-content",4)(11,"ion-item")(12,"ion-input",5),e.NdJ("ngModelChange",function(r){return t.reviewObject.name=r}),e.qZA()(),e.TgZ(13,"ion-item")(14,"ion-label",6),e._uU(15,"Description:"),e.qZA(),e.TgZ(16,"ion-textarea",7),e.NdJ("ngModelChange",function(r){return t.reviewObject.description=r}),e.qZA()(),e.TgZ(17,"ion-item")(18,"ion-input",8),e.NdJ("ngModelChange",function(r){return t.reviewObject.category=r}),e.qZA()(),e.TgZ(19,"ion-item")(20,"ion-label",6),e._uU(21,"Enter Movie Review:"),e.qZA(),e.TgZ(22,"ion-textarea",9),e.NdJ("ngModelChange",function(r){return t.reviewObject.review=r}),e.qZA()(),e.TgZ(23,"ion-item")(24,"ion-input",10),e.NdJ("ngModelChange",function(r){return t.reviewObject.rating=r}),e.qZA()(),e.TgZ(25,"ion-item")(26,"ion-label"),e._uU(27,"Favourite?"),e.qZA(),e.TgZ(28,"ion-checkbox",11),e.NdJ("ngModelChange",function(r){return t.reviewObject.isFavourite=r}),e.qZA()()()),2&i&&(e.xp6(8),e.Q6J("strong",!0),e.xp6(4),e.Q6J("ngModel",t.reviewObject.name),e.xp6(4),e.Q6J("ngModel",t.reviewObject.description),e.xp6(2),e.Q6J("ngModel",t.reviewObject.category),e.xp6(4),e.Q6J("ngModel",t.reviewObject.review),e.xp6(2),e.Q6J("ngModel",t.reviewObject.rating),e.xp6(4),e.Q6J("ngModel",t.reviewObject.isFavourite))},dependencies:[w.JJ,w.On,n.YG,n.Sm,n.nz,n.W2,n.Gu,n.pK,n.Ie,n.Q$,n.g2,n.wd,n.sr,n.w,n.j9]}),a})();function M(a,d){if(1&a){const i=e.EpF();e.TgZ(0,"ion-list")(1,"ion-item-sliding")(2,"ion-item-options",4)(3,"ion-item-option",5),e.NdJ("click",function(){const r=e.CHM(i).index,s=e.oxw();return e.KtG(s.openModal2(r,s.IDsArray[r]))}),e._uU(4,"Edit"),e.qZA()(),e.TgZ(5,"ion-item",1),e.NdJ("click",function(){const r=e.CHM(i).index,s=e.oxw();return e.KtG(s.nReviewClick(r))}),e._UZ(6,"ion-icon",6),e.TgZ(7,"ion-label"),e._uU(8),e.qZA()(),e.TgZ(9,"ion-item-options",7)(10,"ion-item-option",8),e.NdJ("click",function(){const r=e.CHM(i).index,s=e.oxw();return e.KtG(s.deleteReview(r))}),e._uU(11,"Delete"),e.qZA()()()()}if(2&a){const i=d.$implicit;e.xp6(8),e.Oqu(i)}}const C=[{path:"",component:(()=>{class a{constructor(i,t,o,r,s){this.alertController=i,this.storageService=t,this.modalCtrl=o,this.route=r,this.router=s,this.movieReviews=["John Wick","The Thing","Godzilla"],this.reviewNames=[],this.IDsArray=[],this.idtest="8fd0bc52-9940-40ad-8e01-5418eff5e8c8"}ngOnInit(){var i=this;return(0,g.Z)(function*(){yield i.storageService.getReady(),i.loadData()})()}openModal(){var i=this;return(0,g.Z)(function*(){const t=yield i.modalCtrl.create({component:f});t.present();const{data:o,role:r}=yield t.onWillDismiss();if("confirm"===r){const s={name:`${o.name}`,description:`${o.description}`,category:`${o.category}`,review:`${o.review}`,rating:`${o.rating}`,isFavourite:Boolean(o.isFavourite),id:null},c=yield i.storageService.addReview(s);s.id=c,i.reviewNames=yield i.storageService.getAllReviewNames()}})()}openModal2(i,t){var o=this;return(0,g.Z)(function*(){const r=yield o.modalCtrl.create({component:f,componentProps:{review:o.movieReviews[i],index:i,idPass:o.IDsArray[i]}});r.present();const s=o.IDsArray[i],{data:c,role:u}=yield r.onWillDismiss();if("confirm"===u){const l={name:`${c.name}`,description:`${c.description}`,category:`${c.category}`,review:`${c.review}`,rating:`${c.rating}`,isFavourite:Boolean(c.isFavourite),id:`${c.ID}`};yield o.storageService.updateReview(s,l),o.reviewNames=yield o.storageService.getAllReviewNames()}})()}deleteContact(i){confirm("Delete "+this.movieReviews[i]+"?")&&this.movieReviews.splice(i,1)}navDetails(){this.showReview(this.idtest)}showReview(i){var t=this;return(0,g.Z)(function*(){const o=yield t.storageService.getReview(i);console.log(o)})()}loadData(){var i=this;return(0,g.Z)(function*(){i.reviewNames=yield i.storageService.getAllReviewNames(),i.IDsArray=yield i.storageService.getAllReviewIDs(),console.log(i.reviewNames),console.log(i.IDsArray)})()}nReviewClick(i){this.router.navigate(["/details",this.IDsArray[i]])}deleteReview(i){var t=this;return(0,g.Z)(function*(){if(confirm("Confirm Delete?")){const o=t.IDsArray[i];t.IDsArray.splice(i,1),yield t.storageService.deleteReview(o),t.loadData()}})()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(n.Br),e.Y36(h.V),e.Y36(n.IN),e.Y36(m.gz),e.Y36(m.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-overview"]],decls:9,vars:1,consts:[["slot","end"],[3,"click"],["name","add"],[4,"ngFor","ngForOf"],["side","start"],["color","success",3,"click"],[2,"margin-right","5px"],["side","end"],["color","danger",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Reviews"),e.qZA(),e.TgZ(4,"ion-buttons",0)(5,"ion-button",1),e.NdJ("click",function(){return t.openModal()}),e._UZ(6,"ion-icon",2),e.qZA()()()(),e.TgZ(7,"ion-content"),e.YNc(8,M,12,1,"ion-list",3),e.qZA()),2&i&&(e.xp6(8),e.Q6J("ngForOf",t.reviewNames))},dependencies:[_.sg,n.YG,n.Sm,n.W2,n.Gu,n.gu,n.Ie,n.u8,n.IK,n.td,n.Q$,n.q_,n.wd,n.sr],styles:[".star-icon[_ngcontent-%COMP%]{color:gray}.star-icon.favourite[_ngcontent-%COMP%]{color:#ff0}"]}),a})()}];let y=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[m.Bz.forChild(C),m.Bz]}),a})(),Z=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[_.ez,w.u5,n.Pc,y]}),a})()}}]);